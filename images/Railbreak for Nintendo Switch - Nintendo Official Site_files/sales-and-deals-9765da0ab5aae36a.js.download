(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2613],{23888:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return _},default:function(){return I}});var n=r(95235),o=(r(2784),r(91042)),i=r(7233),a=r(15824),s=r(3005),c=r(92102),l=r(32899),u=r(86743),d=r(11803),p=r(23682),g=r(3599),f=r(58877),h=r(52322);var m=e=>{let{page:t,preview:r}=e;const{pageHeader:n,pageSections:m,refurbishedStoryModule:b}=t.content,y=m.map((e=>({label:e.deepLink,url:`#${(0,u.GL)(e.deepLink)}`}))),{text:j}=(0,l.i1)(),O={label:`${j("Shop all deals")}`,url:`/store/games/#p=1&sort=df&f=topLevelFilters&topLevelFilters=${j("Deals")}`};return(0,h.jsxs)(p.Kq,{preview:r,children:[(0,h.jsx)(a.F,{heading:n.heading,subtitle:(0,h.jsx)(f.Z,{data:n.description}),image:{desktop:{assetPath:n.asset?.primary?.assetPath},mobile:{assetPath:n.asset?.secondary?.assetPath}},pillFarm:[...y,O]}),(0,h.jsxs)(s.H.NewLevel,{children:[(0,h.jsx)(d.Tx,{children:m.map(((e,t)=>(0,h.jsxs)("div",{id:(0,u.GL)(e.deepLink),children:[(0,h.jsx)(i.Z,{content:{deepLink:e.deepLink,background:e.background,lightScrim:e.modifiers.includes("lightScrimVariant"),storyModuleContentReverse:e.modifiers.includes("contentReverse"),storyModuleOrCuratedProductList:e.storyModuleOrCuratedProductList,legal:e.legal}}),(0,h.jsx)(g.Z,{icon:c.Z})]},e.deepLink+t)))}),!!b.CONTENT_TYPE&&(0,h.jsx)(o.tm,{content:{assetPath:b.asset.primary.assetPath,assetPathAlt:b.asset.alt,background:b.background,cta:b.cta,description:b.description,heading:b.heading,modifiers:b.modifiers}}),(0,h.jsx)(o.y4,{})]})]})},b=r(64897),y=r(7771),j=r(46420),O=r(72354),x=r(58139),v=r(67371),P=r(90643),w=r(87136);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=e=>{let{page:t,preview:r}=e;const{pageHeader:n,pageLinkFarm:i}=t.content,a=(0,b.Z)(),s=(0,v.Hf)(),c=t.content.merchandisedGrid,l=y.e.GAMES,u=(0,P.XD)({category:l,filter:"topLevelFilters:Deals",merchandisedGrid:c,router:a}),d={list:[s,...i]};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(j.X$,{router:a,categoryConfig:u,defaultCategory:l,searchParamWhitelist:w.uy,preserveQueryParamKeys:w.aq,children:(0,h.jsx)(x.Z,{preview:r,page:k(k({},t.content),{},{pageHeader:k(k({},n),{},{description:(0,h.jsx)(o.Ho,{data:n.description})}),merchandisedGrid:c,ctaCollection:d}),showRating:Boolean(a.query[O.Tx.CAMPAIGN_CODE]),pageIcon:"d-pad",cachePrefix:"sales_and_deal_v2",filterSections:y.I,analytics:{eventPrefix:"Sale Item",pageName:"Sales and Deals v2"},fullBleedHero:!0,cmsProductPageSize:40,seeAllCtaLabel:"Load more results",enableStickyCollectionNav:!0})})})};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=!0,I=function(e){const{page:{enableNewSalesAndDeals:t}}=e;return t?(0,h.jsx)(C,D({},e)):(0,h.jsx)(m,D({},e))}},11803:function(e,t,r){"use strict";r.d(t,{Kc:function(){return d},RR:function(){return u},Tx:function(){return a},he:function(){return l},lU:function(){return s},n5:function(){return c}});var n=r(7307),o=r(67335),i=r(91042);const a=n.default.div.withConfig({componentId:"sc-rxe36q-0"})(["width:100%;position:relative;"]),s=(0,n.default)(i.tm).withConfig({componentId:"sc-rxe36q-1"})(["padding-top:",";padding-bottom:",";","{padding-top:",";padding-bottom:",";}"],(e=>{let{theme:t}=e;return t.spacing[40]}),(e=>{let{theme:t}=e;return t.spacing[40]}),(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),(e=>{let{theme:t}=e;return t.spacing[64]}),(e=>{let{theme:t}=e;return t.spacing[64]})),c=((0,n.default)(o.B).withConfig({componentId:"sc-rxe36q-2"})(["grid-column:span 2;","{height:",";font-size:",";padding:",";grid-column:span 1;}"],(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),(e=>{let{theme:t}=e;return t.spacing[64]}),(e=>{let{theme:t}=e;return t.font.size.h2Desktop}),(e=>{let{theme:t}=e;return`0 ${t.spacing[24]}`})),n.default.div.withConfig({componentId:"sc-rxe36q-3"})(["margin:"," ",";","{margin-top:",";margin-bottom:",";}"],(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),(e=>{let{theme:t}=e;return t.spacing[64]}),(e=>{let{theme:t}=e;return t.spacing[96]}))),l=(0,n.default)(i.en).withConfig({componentId:"sc-rxe36q-4"})(["padding-left:0;"]),u=n.default.div.withConfig({componentId:"sc-rxe36q-5"})(["background-color:",";border-radius:",";padding:",";margin-bottom:0;*{font-size:",";}","{margin-bottom:",";*{font-size:",";}}"],(e=>{let{theme:t}=e;return t.color.white}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.font.size.legalMobile}),(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.font.size.legalDesktop})),d=n.default.div.withConfig({componentId:"sc-rxe36q-6"})(["display:inline-flex;text{color:",";}"],(e=>{let{$textColor:t}=e;return t}))},7233:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(95235),o=r(2784),i=r(46420),a=r(51505),s=r(89937),c=r(3005),l=r(66906),u=r(32899),d=r(32542),p=r(91042),g=r(87136);var f=function(e){if(e&&7===e?.length&&"#"===e?.[0]){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}return null};const h=e=>e<=.03928?e/12.92:[(e+.055)/1.055]**2.4;var m=r(7307),b=r(11803),y=r(52322);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var O=e=>{let{content:t}=e;const r=(0,o.useContext)(m.ThemeContext),{deepLink:O,background:x,lightScrim:v,storyModuleContentReverse:P,storyModuleOrCuratedProductList:w,legal:S}=t,{text:k}=(0,u.i1)(),{0:C,1:L}=(0,o.useState)((()=>g.Xx[0].value)),{selectedSortByOption:D,handleSortByChange:_}=(0,i.sI)({sortBy:C,sortByOptions:g.Xx,applySortBy:e=>L((()=>e))}),I=(0,o.useMemo)((()=>g.Xx.map((e=>{let{value:t,label:r}=e;return{value:t,label:k(r)}}))),[k]),E=(0,o.useMemo)((()=>({value:D.value,label:k(D.label)})),[D,k]),M=(0,o.useMemo)((()=>w[1]||[]),[w]),N=(0,o.useMemo)((()=>C?[...M].sort(C("name")):M),[M,C]),q=(0,o.useMemo)((()=>(0,y.jsx)(b.he,{children:N.map((e=>(0,y.jsx)(d.I8,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),e.sku)))})),[N]);return(0,y.jsxs)(p.Aq,{background:x,id:O,children:[(0,y.jsx)(b.lU,{lightScrim:v,content:{assetPath:w[0]?.asset.primary.assetPath,assetPathAlt:w[0]?.alt,background:w[0]?.background,cta:w[0]?.ctaList[0],description:w[0]?.description,heading:w[0]?.heading,modifiers:w[0]?.modifiers},reverseContent:P}),(0,y.jsxs)(c.H.NewLevel,{children:[N.length>0&&(0,y.jsxs)(b.n5,{children:[(0,y.jsx)(a.S,{children:(0,y.jsx)(s.S,{label:(0,y.jsx)(b.Kc,{$textColor:(e=>{const t=r.color.darkGray2,n=function(e,t,r){const n=f(e);if(!n||!t||!r)return null;const o=n?.r/255,i=n?.g/255,a=n?.b/255;return.2126*h(o)+.7152*h(i)+.0722*h(a)>.179?r:t}(e,r.color.white,t);return n||t})(x.color),children:(0,y.jsx)("text",{children:k("Sort by")})}),onSelect:_,options:I,dropdownValue:E})}),(0,y.jsx)(l.S,{size:24}),q]}),S?(0,y.jsx)(p.$0,{constrained:!0,small:!0,marginTop:0,children:(0,y.jsx)(b.RR,{children:(0,y.jsx)(p.Ho,{data:S})})}):null]})]})}},37135:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/store/sales-and-deals",function(){return r(23888)}])}},function(e){e.O(0,[5106,8286,4511,6717,1042,3682,7705,8139,9774,2888,179],(function(){return t=37135,e(e.s=t);var t}));var t=e.O();_N_E=t}]);